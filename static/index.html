<html ng-app="SaveMe">
	<head>
		<title>SaveMe</title>
		
		<!-- Boostrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
		
		<script src="/js/lodash.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
		<script src="/js/angular-simple-logger.js"></script>
		<script src="/js/angular-google-maps.min.js"></script>
		<script>
			var saveMe = angular.module('SaveMe', [
				'uiGmapgoogle-maps'
			]);
			
			saveMe.controller('MainController', ['$scope', '$timeout', function($scope, $timeout) {
				$scope.map = {
					center: {
						latitude: 45,
						longitude: -73
					},
					zoom: 8,
					control: {}
				}
				
				$timeout(function() {
					navigator.geolocation.watchPosition(function(position) {
						console.log(position.coords);
						console.log($scope.map.control);
						$scope.map.control.refresh({
							latitude: position.coords.latitude,
							longitude: position.coords.longitude
						});
					});
				});
			}]);
		</script>
		<style>
			.angular-google-map-container {
				height: 400px;
			}
		</style>
	</head>
	<body ng-controller="MainController">
		<ui-gmap-google-map center="map.center"
							zoom="map.zoom"
							control="map.control"></ui-gmap-google-map>
	</body>
</html>